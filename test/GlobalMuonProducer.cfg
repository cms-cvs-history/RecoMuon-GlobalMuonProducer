process GlobalRECO = {
    
    # Event source
    source = PoolSource{
	untracked vstring fileNames = {
            'rfio:/castor/cern.ch/user/a/aeverett/Samples/CMSSW_1_5_0/single_mu_pt_5_200_positive_150.root'
        }
    }
    untracked PSet maxEvents = {untracked int32 input = 10}
    
    # MessageLogger
    include "FWCore/MessageLogger/data/MessageLogger.cfi"
    replace MessageLogger.cout.threshold = "DEBUG"
    
    include "Configuration/StandardSequences/data/FakeConditions.cff"
    include "Geometry/MuonNumbering/data/muonNumberingInitialization.cfi"
    
    
    
    
# TrackerReco: Silicon tracks and trajectories must be in the event!
# This presents two choices: 
# 1 - Do Tracker reconstruction 
# 2 - Use RecoTracks if already in the event and just add the trajectory 
#
# Option 1
    include "RecoLocalTracker/Configuration/data/RecoLocalTracker.cff"
    include "RecoTracker/Configuration/data/RecoTracker.cff" 
    include "TrackingTools/Configuration/data/TrackingTools.cff" 
    sequence trackerReco = {trackerlocalreco, ckftracks} 
#
# Option 2 
# include "TrackingTools/TrackRefitter/data/ctfWithMaterialTrajectories.cff"
# sequence trackerReco = {ctfWithMaterialTracks}
    
    
    
    
# StandAloneReco: StandAloneMuon tracks and trajectories must be in the event!
# This presents two choices:
# 1 - Do standAlone reconstruction
# 2 - Use StandAloneMuons already in the event and just add the trajectory
#
# Option 1
    include "RecoLocalMuon/Configuration/data/RecoLocalMuon.cff"
    include "RecoMuon/Configuration/data/RecoMuon.cff"
    sequence muonReco = { muontracking }
#
# Option 2
#    include "TrackingTools/TrackRefitter/data/standAloneMuonTrajectories.cff"
#    replace standAloneMuons.Tracks = standAloneMuons:UpdatedAtVtx
#    sequence muonStandAloneReco = { standAloneMuons }
#    include "RecoMuon/GlobalMuonProducer/data/GlobalMuonProducer.cff"
#    sequence muonReco = { muonStandAloneReco, globalMuons }
    
    # Output
    module out = PoolOutputModule {
	untracked string fileName ="GLBMuons.root"
    }
    
    # Path
    path p = { trackerReco, muonReco }   
    endpath this_is_the_end = { out }
    
}
